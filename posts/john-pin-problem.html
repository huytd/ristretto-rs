<html>
    <head>
        <title>Thu·∫≠t to√°n ph·ª•c h·ªìi s·ªë h·ªØu t·ªâ v√† b√†i to√°n John's PIN | Huy's Blog</title>
        <meta charset="utf-8">
        <meta http-equiv="content-type" content="text/html;"><meta name=viewport content="initial-scale=1.0 maximum-scale=1.0">
        
        <link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
        <link rel="manifest" href="../manifest.json">
        <link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5">
        <meta name="theme-color" content="#ffffff">
        <link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin-ext,vietnamese" rel="stylesheet">
        <link href="../css/theme.css?t=" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="../css/highlight/tomorrow.css">
        <link rel="stylesheet" href="../css/fontello.css">
        <link rel="stylesheet" href="../emoji/css/messenger.min.css">
        <link rel="stylesheet" href="../emoji/css/thinking.ext.css">
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/autosizing.js"></script>
        <script src="../js/fetch.js"></script>
        <script>
        hljs.initHighlightingOnLoad();
        </script>
    </head>
    <body>
        <div class="header">
          <a href="/"><span class="avatar"></span><span class="header-link">Huy's Blog</span></a> 

          <a class="subscribe right" href="http://eepurl.com/cN5YDv" rel="noopener noreferrer" target="blank">Theo d√µi blog n√†y</a>
        </div>
        <div class="container">
            <div class="main">
                <h1>Thu·∫≠t to√°n ph·ª•c h·ªìi s·ªë h·ªØu t·ªâ v√† b√†i to√°n John's PIN</h1>
                <p>H√¥m qua ƒë·ªçc blog c·ªßa gi√°o s∆∞ Ng√¥ B·∫£o Ch√¢u, th·∫•y c√≥ gi·ªõi thi·ªáu v·ªÅ <a href="http://pi.edu.vn/">t·∫°p ch√≠ Pi</a> v√† <a href="http://diendantoanhoc.net/forum/488-t%E1%BA%A1p-ch%C3%AD-epsilon/">t·∫°p ch√≠ Epsilon</a>, d√π gh√©t h·ªçc to√°n nh∆∞ng m√¨nh r·∫•t c√≥ h·ª©ng v·ªõi m·∫•y b√†i to√°n mang t√≠nh th·ª±c d·ª•ng m·ªôt t√≠ (b·∫°n b√® m√¨nh th√¨ to√†n b·∫£o l√†: <em>&quot;M√†y th√¨ c√°i g√¨ kh√¥ng th√≠ch =)))&quot;</em>), n√™n r·∫•t l√† ·∫•n t∆∞·ª£ng khi th·∫•y trong cu·ªën <a href="https://www.Numbersdropbox.com/s/evlskte9fmn59np/Epsilon_No1.pdfNumbers?dl=0">Epsilon s·ªë ƒë·∫ßu ti√™n</a> c√≥ ngay m·ªôt b√†i to√°n r·∫•t l√† th√∫ v·ªã v√† r·∫•t th·ª±c t·∫ø, ƒë√≥ l√† b√†i <strong>Thu·∫≠t to√°n ph·ª•c h·ªìi s·ªë h·ªØu t·ªâ</strong> do gi√°o s∆∞ Nguy·ªÖn H√πng S∆°n vi·∫øt.</p>
<h2><a href="#b√†i-to√°n-johns-pin" aria-hidden="true" class="anchor" id="b√†i-to√°n-johns-pin"></a>B√†i to√°n John's PIN</h2>
<p>B√†i to√°n ƒë∆∞·ª£c ƒëƒÉng trong cu·ªën t·∫°p ch√≠ nh∆∞ sau:</p>
<div class="box-white" style="padding: 10px;">
M·ªôt v·ªã gi√°o s∆∞ to√°n-tin r·∫•t c·∫©n th·∫≠n nh∆∞ng ƒë√£ng tr√≠. <br/><br/>
C√°ch ƒë√¢y v√†i h√¥m ng√¢n h√†ng g·ª≠i √¥ng m·ªôt b·ª©c th∆∞ th√¥ng b√°o m·∫≠t kh·∫©u c·ªßa th·∫ª t√≠n d·ª•ng. M·∫≠t kh·∫©u l√† m·ªôt s·ªë c√≥ 6 ch·ªØ s·ªë $abcdef$. <br/><br/>
√îng kh√¥ng mu·ªën gi·ªØ l·∫°i b·ª©c th∆∞ v√¨ s·ª£ n√≥ c√≥ th·ªÉ l·ªçt v√†o tay k·∫ª gian. <br/><br/> 
V√¨ v·∫≠y √¥ng d√πng m·ªôt chi·∫øc m√°y t√≠nh c·∫ßm tay ƒë∆°n gi·∫£n (g·ªìm 4 ph√©p t√≠nh $+, -, \times, \div$ v√† `10` ch·ªØ s·ªë) ƒë·ªÉ t√≠nh t·ªâ s·ªë $abc \div def$. √îng nh·∫≠n ƒë∆∞·ª£c k·∫øt qu·∫£ g·∫ßn ƒë√∫ng l√† `0.195323246` v√† ghi n√≥ l√™n m·ªôt t·ªù gi·∫•y. <br/><br/>
L√†m th·∫ø n√†o ƒë·ªÉ v·ªã gi√°o s∆∞ c√≥ th·ªÉ t√¨m l·∫°i ƒë∆∞·ª£c m·∫≠t kh·∫©u trong th·ªùi gian ng·∫Øn nh·∫•t n·∫øu √¥ng ch·ªâ c√≥ trong tay chi·∫øc m√°y t√≠nh c·∫ßm tay ƒë∆°n gi·∫£n ƒë√≥, v√† m·∫≠t kh·∫©u l√† g√¨?
</div>
<p>Trong qu√° tr√¨nh t√¨m hi·ªÉu th√¨ m√¨nh th·∫•y c√≥ m·ªôt b√†i gi·∫£i kh√°c b·∫±ng ti·∫øng Anh l√† <a href="http://sites.math.northwestern.edu/%7Emlerma/problem_solving/solutions/johns_pin.pdf">John's PIN</a> ƒë∆∞·ª£c ƒëƒÉng tr√™n trang <a href="http://www.math.northwestern.edu/%7Emlerma/problem_solving/">Math Problem Solving</a> c·ªßa tr∆∞·ªùng ƒë·∫°i h·ªçc Northwestern University. Nh∆∞ng b√†i b√°o c·ªßa gi√°o s∆∞ Nguy·ªÖn H√πng S∆°n chi ti·∫øt h∆°n n√™n m√¨nh xin ph√©p tr√≠ch ƒëƒÉng l·∫°i v√† th√™m v√†o m·ªôt s·ªë di·ªÖn gi·∫£i c·ªßa m√¨nh - m·ªôt ng∆∞·ªùi kh√¥ng chuy√™n v·ªÅ to√°n üò§</p>
<h2><a href="#gi·∫£i-b√†i-to√°n" aria-hidden="true" class="anchor" id="gi·∫£i-b√†i-to√°n"></a>Gi·∫£i b√†i to√°n</h2>
<p>ƒê·ªÉ gi·∫£i b√†i to√°n tr√™n, ch√∫ng ta s·∫Ω ·ª©ng d·ª•ng m·ªôt s·ªë l√Ω thuy·∫øt v·ªÅ ph√¢n s·ªë chu·ªói (<a href="https://en.m.wikipedia.org/wiki/Continued_fraction">continued fraction</a>) v√† <a href="https://vi.m.wikipedia.org/wiki/Gi%E1%BA%A3i_thu%E1%BA%ADt_Euclid">thu·∫≠t to√°n Euclid</a>, ch√∫ng ta s·∫Ω c√πng l∆∞·ªõt qua c√°c kh√°i ni·ªám n√†y tr∆∞·ªõc.</p>
<h3><a href="#thu·∫≠t-to√°n-euclid" aria-hidden="true" class="anchor" id="thu·∫≠t-to√°n-euclid"></a>Thu·∫≠t to√°n Euclid</h3>
<p>Thu·∫≠t to√°n Euclid d√πng ƒë·ªÉ t√¨m ∆Ø·ªõc chung l·ªõn nh·∫•t (Greatest Common Divisor) cho hai s·ªë nguy√™n $a$ v√† $b$ ƒë∆∞·ª£c ph√°t bi·ªÉu nh∆∞ sau:</p>
<pre class='math'>$$
UCLN(a, b) = \begin{cases}
  b, & \text{if } b = 0, \\
  UCLN(b, a \bmod b), & \text{if } b \neq 0.
\end{cases}
$$</pre>
<p>Hay implement b·∫±ng code nh∆∞ sau:</p>
<pre><code>int UCLN(int a, int b) {
  return (b == 0) ? a : UCLN(b, a % b);
}
</code></pre>
<p>Ch√∫ng ta c√≥ th·ªÉ ch·∫°y th·ª≠ (&quot;dry run&quot;) thu·∫≠t to√°n n√†y, v√≠ d·ª• ƒë·ªÉ t√¨m ∆∞·ªõc chung c·ªßa 2 s·ªë <code>324</code> v√† <code>918</code>, k·∫øt qu·∫£ s·∫Ω l√† <code>54</code>:</p>
<table>
<thead>
<tr>
<th align="center">Step</th>
<th align="center">a</th>
<th align="center">b</th>
<th align="center">a / b</th>
<th align="center">a % b</th>
<th align="center">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">1</td>
<td align="center">324</td>
<td align="center">918</td>
<td align="center">0</td>
<td align="center">324</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">918</td>
<td align="center">324</td>
<td align="center">2</td>
<td align="center">270</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">324</td>
<td align="center">270</td>
<td align="center">1</td>
<td align="center">54</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">270</td>
<td align="center">54</td>
<td align="center">5</td>
<td align="center">0</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">54</td>
<td align="center"><code>0</code></td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center"><strong><code>54</code></strong></td>
</tr></tbody></table>
<p>(N·∫øu ƒë·ªÉ √Ω th√¨ b·∫°n s·∫Ω th·∫•y ch√∫ng ta kh√¥ng d√πng gi√° tr·ªã $a / b$, nh∆∞ng t·∫°i sao l·∫°i ghi v√†o b·∫£ng? C·ª© ƒë·ªçc ti·∫øp s·∫Ω r√µ :D)</p>
<h3><a href="#li√™n-ph√¢n-s·ªë" aria-hidden="true" class="anchor" id="li√™n-ph√¢n-s·ªë"></a>Li√™n ph√¢n s·ªë</h3>
<p><a href="https://vi.m.wikipedia.org/wiki/Ph%C3%A2n_s%E1%BB%91_li%C3%AAn_t%E1%BB%A5c">Li√™n ph√¢n s·ªë</a> l√† m·ªôt d·∫°ng bi·ªÉu di·ªÖn c√°c s·ªë th·ª±c d∆∞∆°ng, c·∫£ h·ªØu t·ªâ l·∫´n v√¥ t·ªâ d∆∞·ªõi d·∫°ng m·ªôt ph√¢n s·ªë nhi·ªÅu t·∫ßng, v√≠ d·ª• nh∆∞:</p>
<pre class='math'>$$
\displaystyle \frac{9}{7} = 1 + \frac{\displaystyle 1}{\displaystyle 3 + \frac{1}{2}}
$$</pre>
<h4><a href="#li√™n-ph√¢n-s·ªë-h·ªØu-h·∫°n" aria-hidden="true" class="anchor" id="li√™n-ph√¢n-s·ªë-h·ªØu-h·∫°n"></a>Li√™n ph√¢n s·ªë h·ªØu h·∫°n</h4>
<p>M·ªôt <strong>li√™n ph√¢n s·ªë h·ªØu h·∫°n</strong> l√† m·ªôt li√™n ph√¢n s·ªë c√≥ d·∫°ng nh∆∞ sau:</p>
<pre class='math'>$$
a_0 + \frac{\displaystyle 1}{\displaystyle a_1
    + \frac{1}{\displaystyle a_2
    + \frac{1}{\displaystyle \cdots
    + \frac{1}{a_n}}}}
$$</pre>
<p>Trong ƒë√≥ $a_0 \in \mathbb{Z}$ v√† $a_1, \cdots, a_n$ l√† c√°c s·ªë nguy√™n d∆∞∆°ng, $a_n &gt; 1$.</p>
<p>Li√™n ph√¢n s·ªë tr√™n ƒë∆∞·ª£c k√≠ hi·ªáu l√† $[a_0 ; a_1, a_2, \cdots, a_{n-1}, a_n]$ ho·∫∑c $[a_0 ; a_1, a_2, \cdots, a_{n-1}, a_n - 1, 1]$ trong ƒë√≥ $n$ ch√≠nh l√† ƒë·ªô d√†i c·ªßa li√™n ph√¢n s·ªë.</p>
<h4><a href="#bi·ªÉu-di·ªÖn-s·ªë-h·ªØu-t·ªâ-b·∫±ng-li√™n-ph√¢n-s·ªë" aria-hidden="true" class="anchor" id="bi·ªÉu-di·ªÖn-s·ªë-h·ªØu-t·ªâ-b·∫±ng-li√™n-ph√¢n-s·ªë"></a>Bi·ªÉu di·ªÖn s·ªë h·ªØu t·ªâ b·∫±ng li√™n ph√¢n s·ªë</h4>
<p>M·ªçi s·ªë h·ªØu t·ªâ ƒë·ªÅu c√≥ th·ªÉ ƒë∆∞·ª£c vi·∫øt d∆∞·ªõi d·∫°ng $\frac{a}{b}$ trong ƒë√≥ $a \in \mathbb{Z}$ l√† s·ªë nguy√™n c√≤n $b \in \mathbb{N}^+$ l√† s·ªë nguy√™n d∆∞∆°ng.</p>
<p>M·ªôt ph√¢n s·ªë c√≥ th·ªÉ chuy·ªÉn th√†nh li√™n ph√¢n s·ªë theo ph∆∞∆°ng ph√°p l·∫∑p ƒëi l·∫∑p l·∫°i 2  b∆∞·ªõc sau:</p>
<ul>
<li><strong>B∆∞·ªõc 1:</strong> T√°ch ph·∫ßn nguy√™n</li>
<li><strong>B∆∞·ªõc 2:</strong> Ngh·ªãch ƒë·∫£o ph·∫ßn ph√¢n s·ªë</li>
</ul>
<p><strong>V√≠ d·ª•:</strong> Chuy·ªÉn ph√¢n s·ªë $\frac{1517}{1073}$ th√†nh li√™n ph√¢n s·ªë:</p>
<p>V√¨ $1517 = 1073 + 444$ n√™n ta c√≥ th·ªÉ t√°ch ph√¢n s·ªë tr√™n th√†nh:</p>
<pre class='math'>$$
\displaystyle \frac{1517}{1073} = \frac{1073}{1073} + \frac{444}{1073} = 1 + \frac{444}{1073} \tag{1}
$$</pre>
<p>Ta c√≥ th·ªÉ ngh·ªãch ƒë·∫£o ph√¢n s·ªë $\frac{444}{1073}$ v√† thay v√†o $(1)$ nh∆∞ sau:</p>
<pre class='math'>$$
\displaystyle 1 + \frac{444}{1073} = 1 + \frac{1}{\frac{1073}{444}} \tag{2}
$$</pre>
<p>L·∫∑p l·∫°i, ta c√≥ th·ªÉ t√°ch ph√¢n s·ªë $\frac{1073}{444}$ th√†nh:</p>
<pre class='math'>$$
\displaystyle \frac{1073}{444} = \frac{444}{444} + \frac{444}{444} + \frac{185}{444} = 2 + \frac{185}{444}
$$</pre>
<p>Thay v√†o $(2)$ ta ƒë∆∞·ª£c:</p>
<pre class='math'>$$
\displaystyle \frac{1517}{1073} = 1 + \frac{1}{\displaystyle \frac{1073}{444}} = 1 + \frac{1}{2 + \frac{185}{444}} \tag{3}
$$</pre>
<p>Ti·∫øp t·ª•c ngh·ªãch ƒë·∫£o ph√¢n s·ªë $\frac{185}{444}$ r·ªìi thay v√†o $(3)$, r·ªìi l·∫∑p ƒëi l·∫∑p l·∫°i 2 b∆∞·ªõc ƒë√≥, ta ƒë∆∞·ª£c k·∫øt qu·∫£ nh∆∞ sau:</p>
<pre class='math'>$$
\displaystyle \frac{1517}{1073} = 1 + \displaystyle \frac{1}{\displaystyle
                                  2 + \frac{1}{\displaystyle
                                  2 + \frac{1}{
                                  2 + \frac{1}{2}}}}
$$</pre>
<p>Nh∆∞ v·∫≠y, ta ƒë√£ chuy·ªÉn ph√¢n s·ªë $\frac{1517}{1073}$ th√†nh li√™n ph√¢n s·ªë $[1; 2, 2, 2, 2]$.</p>
<h3><a href="#m·ªëi-li√™n-quan-gi·ªØa-thu·∫≠t-to√°n-euclid-v√†-li√™n-ph√¢n-s·ªë" aria-hidden="true" class="anchor" id="m·ªëi-li√™n-quan-gi·ªØa-thu·∫≠t-to√°n-euclid-v√†-li√™n-ph√¢n-s·ªë"></a>M·ªëi li√™n quan gi·ªØa thu·∫≠t to√°n Euclid v√† Li√™n ph√¢n s·ªë</h3>
<p>C√≥ m·ªôt s·ª± li√™n quan th√∫ v·ªã gi·ªØa thu·∫≠t to√°n Euclid v√† ph∆∞∆°ng ph√°p t√¨m Li√™n ph√¢n s·ªë, tr∆∞·ªõc ti√™n, h√£y c√πng √°p d·ª•ng thu·∫≠t to√°n Euclid cho 2 s·ªë <strong>1517</strong> v√† <strong>1073</strong>, qu√° tr√¨nh t√≠nh to√°n s·∫Ω nh∆∞ sau:</p>
<table>
<thead>
<tr>
<th align="center">Step</th>
<th align="center">a</th>
<th align="center">b</th>
<th align="center">a / b</th>
<th align="center">a % b</th>
<th align="center">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">1</td>
<td align="center">1517</td>
<td align="center">1073</td>
<td align="center">1</td>
<td align="center">444</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">1073</td>
<td align="center">444</td>
<td align="center">2</td>
<td align="center">185</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">444</td>
<td align="center">185</td>
<td align="center">2</td>
<td align="center">74</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">185</td>
<td align="center">74</td>
<td align="center">2</td>
<td align="center">37</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">74</td>
<td align="center">37</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">37</td>
<td align="center"><code>0</code></td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center"><strong><code>37</code></strong></td>
</tr></tbody></table>
<p>Nh√¨n v√†o b·∫£ng tr√™n ta c√≥ th·ªÉ th·∫•y ngay lu√¥n, c·ªôt <strong>a / b</strong> c·ªßa thu·∫≠t to√°n Euclid ch√≠nh l√† li√™n ph√¢n s·ªë $[1; 2, 2, 2, 2]$ m√† ch√∫ng ta c·∫ßn t√¨m. V√¨ th·∫ø, ta c√≥ th·ªÉ d·ªÖ d√†ng implement thu·∫≠t to√°n <strong>t√¨m li√™n ph√¢n s·ªë</strong> b·∫±ng c√°ch √°p d·ª•ng thu·∫≠t to√°n Euclid nh∆∞ng ·ªü m·ªói b∆∞·ªõc, th√¨ ta vi·∫øt ra gi√° tr·ªã c·ªßa <strong>a / b</strong>.</p>
<p>V√≠ d·ª•, implement c·ªßa thu·∫≠t to√°n <strong>t√¨m li√™n ph√¢n s·ªë cho ph√¢n s·ªë $\frac{a}{b}$</strong>:</p>
<pre><code>std::vector&lt;int&gt; lien_phan_so(int a, int b) {
  std::vector&lt;int&gt; result;
  int r;
  while (b != 0) {
    result.push_back(a / b);
    r = a % b;
    a = b; b = r;
  }
  return result;
}
</code></pre>
<p>OK, v·∫≠y n√£y gi·ªù ƒë·ªçc m·∫•y c√°i n√†y ƒë·ªÉ l√†m g√¨ ta?</p>
<h3><a href="#ph·ª•c-h·ªìi-s·ªë-h·ªØu-t·ªâ" aria-hidden="true" class="anchor" id="ph·ª•c-h·ªìi-s·ªë-h·ªØu-t·ªâ"></a>Ph·ª•c h·ªìi s·ªë h·ªØu t·ªâ</h3>
<p>Tr∆∞·ªõc h·∫øt, ch√∫ng ta c√≥ th·ªÉ ƒë·ªìng √Ω r·∫±ng, <strong>n·∫øu $\frac{p}{q}$ v√† $\frac{r}{s}$ l√† hai ph√¢n s·ªë c√≥ t·ª≠ s·ªë, m·∫´u s·ªë ƒë·ªÅu l√† c√°c s·ªë c√≥ 3 ch·ªØ s·ªë, v√† gi·ªëng nhau √≠t nh·∫•t ƒë·∫øn ch·ªØ s·ªë th·ª© 6 sau d·∫•u ph·∫©y</strong> th√¨ $\bigg| \frac{p}{q} - \frac{r}{s} \bigg| &lt; 10^{-6}$. T·ª´ ƒë√≥ suy ra:</p>
<pre class='math'>$$
|ps - qr| \leqslant qs \cdot 10^{-6} < 10^3 \cdot 10^3 \cdot 10^{-6} = 1
$$</pre>
<p>V√¨ $p, s, q, r$ l√† c√°c s·ªë nguy√™n v√† $0 \leqslant |ps - qr| &lt; 1|$, t·ª´ ƒë√≥ suy ra:</p>
<pre class='math'>$$
\begin{aligned}
ps - qr &= 0 \\
\\
\Rightarrow \displaystyle \frac{p}{q} &= \displaystyle \frac{r}{s}
\end{aligned}
\tag{4}
$$</pre>
<p>Quay l·∫°i b√†i to√°n John's PIN, r√µ r√†ng m·ªôt c√°ch ƒë∆°n gi·∫£n nh·∫•t ƒë·ªÉ v·ªã gi√°o s∆∞ c√≥ th·ªÉ t√¨m ra ƒë∆∞·ª£c m√£ PIN l√† bruteforce, th·ª≠ t·∫•t c·∫£ m·ªçi ph√¢n s·ªë c√≥ d·∫°ng $\frac{abc}{def}$, tuy nhi√™n bruteforce l√† gi·∫£i ph√°p t·ªá nh·∫•t, ƒë∆°n gi·∫£n v√¨ kh√¥ng bi·∫øt n√≥ ch·∫°y ƒë·∫øn khi n√†o m·ªõi xong.</p>
<p>V√¨ v·∫≠y ch√∫ng ta s·∫Ω gi·∫£i b√†i to√°n n√†y theo c√°ch kh√°c hi·ªáu qu·∫£ h∆°n ƒë√≥ l√† khai tri·ªÉn m√£ PIN (t·∫°m g·ªçi l√† $r$) c·∫ßn t√¨m th√†nh d·∫°ng li√™n ph√¢n s·ªë:</p>
<pre class='math'>$$
r = [a_0; a_1, a_2, a_3, \cdots] = a_0 + \displaystyle \frac{1}{
                                   a_1 + \displaystyle \frac{1}{
                                   a_2 + \displaystyle \frac{1}{
                                   a_3 + \cdots }}}
$$</pre>
<p>V·ªõi m·ªói ph·∫ßn t·ª≠ $a_k$ l√† m·ªói s·ªë nguy√™n v√† ƒë∆∞·ª£c t√≠nh b·∫±ng thu·∫≠t to√°n Euclid chuy·ªÉn s·ªë th·ª±c th√†nh li√™n ph√¢n s·ªë:</p>
<pre class='math'>$$
r_0 = r \text{,  } a_n = \lfloor r_n \rfloor \text{,  } r_{n+1} = \displaystyle \frac{1}{r_n - a_n} \tag{5}
$$</pre>
<p>V√¨ s·ªë h·ªØu t·ªâ lu√¥n chuy·ªÉn ƒë∆∞·ª£c v·ªÅ d·∫°ng li√™n ph√¢n s·ªë h·ªØu h·∫°n, n√™n cu·ªëi c√πng ta s·∫Ω c√≥ $a_n = r_n$, t·∫°i l√∫c ƒë√≥ ta s·∫Ω d·ª´ng t√≠nh to√°n v√† thu th·∫≠p k·∫øt qu·∫£. Trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p do b·ªã l√†m tr√≤n s·ªë, k·∫øt qu·∫£ $r_n - a_n$ c√≥ th·ªÉ kh√¥ng ch√≠nh x√°c b·∫±ng 0 ƒë∆∞·ª£c, nh∆∞ng ta c√≥ th·ªÉ bi·∫øt khi n√†o th√¨ gi√° tr·ªã n√†y ƒë·ªß nh·ªè ƒë·ªÉ c√≥ th·ªÉ d·ª´ng t√≠nh to√°n.</p>
<p>ƒê·ªëi v·ªõi $r$ = 0.195323246, ta s·∫Ω t√≠nh ƒë∆∞·ª£c c√°c gi√° tr·ªã $a_0$ = 0, $a_1$ = 5, $a_2$ = 8, $a_3$ = 2, $a_4$ = 1, $a_5$ = 5, l√∫c n√†y, k·∫øt qu·∫£ $r_5 - a_5$ = 0.00011475..., ƒë√£ l√† ƒë·ªß nh·ªè ƒë·ªÉ c√≥ th·ªÉ d·ª´ng t√≠nh to√°n, n√™n ta s·∫Ω thu ƒë∆∞·ª£c k·∫øt qu·∫£:</p>
<pre class='math'>$$
r = [0; 5, 8, 2, 1, 5] = \displaystyle \frac{1}{
                     5 + \displaystyle \frac{1}{
                     8 + \displaystyle \frac{1}{
                     2 + \displaystyle \frac{1}{
                     1 + \displaystyle \frac{1}{5} }}}} = \displaystyle \frac{142}{727}
$$</pre>
<p>Cu·ªëi c√πng, ch√∫ng ta ki·ªÉm ch·ª©ng k·∫øt qu·∫£ thu ƒë∆∞·ª£c cho th·∫•y k·∫øt qu·∫£ g·∫ßn ch√≠nh x√°c:</p>
<pre class='math'>$$
\displaystyle \frac{142}{727} = 0.195323246\cdots
$$</pre>
<p>D·ª±a v√†o ƒëi·ªÅu $(4)$ ƒë√£ ch·ª©ng minh ·ªü tr√™n, ch√∫ng ta c√≥ th·ªÉ k·∫øt lu·∫≠n $\frac{142}{727}$ ch√≠nh l√† $\frac{abc}{def}$ v√† m√£ PIN c·∫ßn t√¨m ch√≠nh l√† <strong><code>142727</code></strong>.</p>
<h2><a href="#m·ªôt-s·ªë-ƒëi·ªÉm-c·∫ßn-b·ªï-sung" aria-hidden="true" class="anchor" id="m·ªôt-s·ªë-ƒëi·ªÉm-c·∫ßn-b·ªï-sung"></a>M·ªôt s·ªë ƒëi·ªÉm c·∫ßn b·ªï sung</h2>
<ul>
<li>T√¨m th√™m th√¥ng tin cho thu·∫≠t to√°n Euclid $(5)$ d√πng ƒë·ªÉ chuy·ªÉn m·ªôt s·ªë th·ª±c th√†nh li√™n ph√¢n s·ªë.</li>
<li>Implement thu·∫≠t to√°n $(5)$</li>
</ul>
<h2><a href="#tham-kh·∫£o" aria-hidden="true" class="anchor" id="tham-kh·∫£o"></a>Tham kh·∫£o</h2>
<p>[1] Nguy·ªÖn H√πng S∆°n, <em>&quot;Thu·∫≠t to√°n ph·ª•c h·ªìi s·ªë h·ªØu t·ªâ&quot;</em>, <a href="https://www.dropbox.com/s/evlskte9fmn59np/Epsilon_No1.pdf?dl=0">Epsilon s·ªë 1</a> (2015), pp. 21-30.</p>
<p>[2] Miguel A. Lerma, <em>&quot;John's PIN&quot;</em>, <a href="http://www.math.northwestern.edu/%7Emlerma/problem_solving/">Northwestern University Math Problem Solving Group</a> (2003)</p>

                <div class='other-tags'><b>Tags:</b> <a class='topic-tag' href='https://thefullsnack.com/tags/math.html'>math</a><a class='topic-tag' href='https://thefullsnack.com/tags/algorithm.html'>algorithm</a></div>
                <div class="copyright">
                B·∫°n ƒë∆∞·ª£c to√†n quy·ªÅn chia s·∫ª, tr√≠ch d·∫´n ho·∫∑c copy, post l·∫°i, nh∆∞ng vui l√≤ng ghi r√µ ngu·ªìn, t√°c gi·∫£ v√† kh√¥ng l√†m thay ƒë·ªïi n·ªôi dung b√†i vi·∫øt. N·∫øu kh√¥ng l√†m v·∫≠y, th√¨ OK, c≈©ng ko sao, s·∫Ω c√≥ thi√™n l√¥i thay ta d√≤m ng√≥ nh√† ng∆∞∆°i. üòà
                </div>

                <div id="fb-root"></div>
                <script>(function(d, s, id) {
                  var js, fjs = d.getElementsByTagName(s)[0];
                  if (d.getElementById(id)) return;
                  js = d.createElement(s); js.id = id;
                  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.9&appId=462066520669072";
                  fjs.parentNode.insertBefore(js, fjs);
                }(document, 'script', 'facebook-jssdk'));</script>
                <div class="fb-like" data-href="https://thefullsnack.com/posts/john-pin-problem.html" data-width="700" data-layout="standard" data-action="like" data-size="small" data-show-faces="true" data-share="true" data-colorscheme="dark"></div>
 
                <div class="comments">
                  <div id="comment-loading" class="loading"></div>
                  <div id="login-box" class="login">
                    B·∫°n nghƒ© nh∆∞ th·∫ø n√†o v·ªÅ b√†i vi·∫øt n√†y?<br/><button onclick="login()">Tham gia b√¨nh lu·∫≠n</button>
                      <div class="copyright">Ch·ª©c nƒÉng n√†y c·∫ßn li√™n k·∫øt v·ªõi t√†i kho·∫£n Google<br/>N·∫øu kh√¥ng th√≠ch th√¨ c√≥ th·ªÉ comment <button onclick="goninja()">N·∫∑c danh</button></div>
                  </div>
                  <div id="comment-box" class="comment-input">
                    <div class="avatar">
                      <img id="user-avatar" src="" width="32" height="32"/>
                    </div>
                    <div class="input">
                      <textarea id="comment-content" onkeyup="autoSizing(this)" onkeydown="submitComment(event)" placeholder="Comment g√µ v√†o ƒë√¢y :D"></textarea>
                      <span>G√µ xong nh·∫•n <kbd>Ctrl</kbd> + <kbd>Enter</kbd> ƒë·ªÉ g·ª≠i. B·∫°n kh√¥ng th·ªÉ x√≥a comment sau khi g·ª≠i.</span>
                      <button id="comment-button" onclick="submitData()">G·ª≠i</button>
                    </div>
                  </div>
                  <ul id="comment-list" class="comment-list"></ul>
                </div>

                <div class="fb-like-box">
                  <div class="fb-page" data-href="https://www.facebook.com/thefullsnackblog" data-width="700" data-small-header="true" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"><blockquote cite="https://www.facebook.com/thefullsnackblog" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/thefullsnackblog">The Full Snack</a></blockquote></div>
                  <div class="like-bait"></div>
                </div>
            </div>
        </div>
	    <div class="footer">
        <p><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img src="https://thefullsnack.com/img/by-nc-nd.png" height="15" /></a></p>
        <p>Created with <i class="em em-coffee"></i> <a href="http://github.com/huytd/ristretto-rs">ristretto.rs</a></p>
            <div class="social">
                <a target="_blank" href="http://facebook.com/thefullsnackblog"><i class="icon-facebook-squared"></i></a>
                <a target="_blank" href="http://twitter.com/huydotnet"><i class="icon-twitter-squared"></i></a>
                <a target="_blank" href="http://github.com/huytd"><i class="icon-github-squared"></i></a>
                <a target="_blank" href="https://thefullsnack.com/en"><i class="icon-emo-coffee"></i></a>
            </div>
        </div>
        <script type="text/javascript" async src="../js/MathJax/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            skipTags: ["script","noscript","style","textarea", "code"],
            ignoreClass: ["comment", "comment-list"]
          }
        });
        </script>
        <script src="https://www.gstatic.com/firebasejs/3.8.0/firebase.js"></script>
        <script>let postCommentURL = '/api/post/john-pin-problem';</script>
        <script>
          // Initialize Firebase
          var config = {
            apiKey: "AIzaSyA1PnIAlJJ-U6iQJMNnCOknBuziBqGMYcY",
            authDomain: "huys-blog-comment.firebaseapp.com",
            databaseURL: "https://huys-blog-comment.firebaseio.com",
            projectId: "huys-blog-comment",
            storageBucket: "huys-blog-comment.appspot.com",
            messagingSenderId: "317330376829"
          };
          firebase.initializeApp(config);
          var provider = new firebase.auth.GoogleAuthProvider();
          var auth = firebase.auth();
          var currentUser = null;

         var updateAuth = function(user) {
            document.getElementById("comment-loading").style.display = "none";
            if (user) {
                currentUser = user;
                // Logged in
                document.getElementById("login-box").style.display = "none";
                document.getElementById("comment-box").style.display = "flex";
                document.getElementById("user-avatar").setAttribute("src", user.photoURL);
            } else {
                // Not login yet
                document.getElementById("comment-box").style.display = "none";
                document.getElementById("login-box").style.display = "block";
            }
         };

          auth.onAuthStateChanged(function(user) {
              updateAuth(user);
          });

          var login = function() {
            auth.signInWithPopup(provider)
              .then(function(result) {
              }).catch(function(err) {
              });
          };

         var goninja = function() {
             updateAuth({
                displayName: "Kh√¥ng T√™n",
                photoURL: "https://thefullsnack.com/img/kaonashi.jpg"
             });
         };

          var encodeHTML = function(s) {
            return s.replace(/</g, '&lt;').replace(/"/g, '&quot;').replace(/>/g, '&gt;');
          };

          var saveNewComment = function(comment) {
            if (!currentUser) {
              return;
            }
            var commentData = {
              username: currentUser.displayName,
              avatar: currentUser.photoURL,
              post_time: ~~((new Date()).getTime() / 1000),
              message: encodeHTML(comment)
            };

              fetch(postCommentURL, {
                  method: 'post',
                  headers: {
                      "Content-Type": "application/json"
                  },
                  body: JSON.stringify(commentData)
              }).then((result) => {
                  if (result.status === 200) {
                      addNewComment(commentData.username, commentData.avatar, commentData.post_time, commentData.message);
                  }
              });

            document.getElementById("comment-content").value = "";
          };

          function debounce(func, wait, immediate) {
            var timeout;
            return function() {
              var context = this, args = arguments;
              var later = function() {
                timeout = null;
                if (!immediate) func.apply(context, args);
              };
              var callNow = immediate && !timeout;
              clearTimeout(timeout);
              timeout = setTimeout(later, wait);
              if (callNow) func.apply(context, args);
            };
          };

          var submitData = debounce(function() {
            var comment = document.getElementById("comment-content").value;
            if (comment.length) {
              saveNewComment(comment);
            }
          }, 250);

          var submitComment = function(e) {
            var keyCode = e.which || e.keyCode;
            var ctrlCode = e.ctrlKey || e.metaKey;
            if (keyCode === 13 && ctrlCode) {
              submitData();
            }
          };

         var filterNewlineInComment = function(t) {
             return t.replace(/\n/g, "<br/>");
         };

          var filterURLinComment = function(comment) {
            return comment.replace(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9]\.[^\s]{2,})/g, "<a target='_blank' rel='noopener noreferrer' href='$1'>$1</a>");
          };

          var addNewComment = function(user, avatar, time, comment) {
            var commentFiltered = encodeHTML(comment);
            commentFiltered = filterNewlineInComment(filterURLinComment(commentFiltered));
            var d = new Date(time * 1000);
            var commentTime = d.toLocaleTimeString() + ' ' + d.toLocaleDateString();
            var html = '<div class="avatar">' +
              '   <img src="' + avatar + '" width="32" height="32"/>' +
              ' </div>' +
              '<div class="comment tex2jax_ignore">' +
              '  <div class="metadata"><b>' + encodeHTML(user) + '</b> l√∫c <span>' + commentTime + '</span></div>' +
              '  <div class="content">' + commentFiltered
            '  </div>' +
              '</div>';
            var li = document.createElement('li');
            li.innerHTML = html;
            document.getElementById("comment-list").append(li);
          };

         // Fetch comment and put to posts
         fetch(postCommentURL)
             .then(res => res.json())
             .then(data => {
                 if (data.comments) {
                    let comments = data.comments;
                    comments.sort((a, b) => a.post_time - b.post_time);
                    for (let i = 0; i < comments.length; i++) {
                        let cmt = comments[i];
                        addNewComment(cmt.username, cmt.avatar, cmt.post_time, cmt.message);
                    }
                 }
             });

          // Tracking
          var serialize = function(obj) {
            var str = [];
            for(var p in obj)
              if (obj.hasOwnProperty(p)) {
                str.push(encodeURIComponent(p) + "=" + encodeURIComponent(obj[p]));
              }
            return str.join("&");
          };
          var store = localStorage;
          if (store && btoa) {
            var tracker = JSON.parse(store.getItem('huyBlogTracker') || "{}");
            var today = btoa((new Date()).toDateString());
            var currentURL = window.location.href;
            var urlTrackingKey = btoa(currentURL);
            if (!tracker[urlTrackingKey] || tracker[urlTrackingKey] !== today) {
              tracker[urlTrackingKey] = today;
              // Do tracking here
              var trackData = {
                userAgent: navigator.userAgent,
                language: navigator.language,
                url: currentURL,
                refer: document.referrer
              };
              var trackParams = serialize(trackData);
              var trackURL = "https://us-central1-huys-blog-comment.cloudfunctions.net/sayHello?" + trackParams;
              fetch(trackURL).then(function(response) { });
            }
            store.setItem('huyBlogTracker', JSON.stringify(tracker));
          }

          var toggle_wordwise = function(status) {
            var book = document.querySelector("book");
            var on = document.querySelector("#ww_on");
            var off = document.querySelector("#ww_off");
            if (!status) {
              book.className = "off";
              on.className = "btn-toggle";
              off.className = "btn-toggle active";
            } else {
              book.className = "";
              on.className = "btn-toggle active";
              off.className = "btn-toggle";
            }
          };
        </script>
    </body>
</html>
